<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Descubre los kits Carotone originales para aclarar tu piel y reducir manchas. Ofertas exclusivas con env√≠o gratis y pago contra entrega. ¬°Compra antes de medianoche!">
    <meta name="keywords" content="Carotone, kits aclarantes, ofertas kits Carotone, env√≠o gratis, productos Carotone, reducir manchas">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Tu Nombre o Empresa">
    <meta property="og:title" content="Kits Carotone - Ofertas Exclusivas con Env√≠o Gratis">
    <meta property="og:description" content="Transforma tu piel con kits Carotone originales. Aprovecha descuentos y env√≠o gratis antes de medianoche.">
    <meta property="og:image" content="https://raw.githubusercontent.com/ziayoficial/catalogo-carotone/main/images/1-Kit%20Maximo%20Resplandor.jpg">
    <meta property="og:url" content="https://tu-sitio.com">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Kits Carotone - ¬°√öltima Oportunidad!">
    <meta name="twitter:description" content="Kits Carotone con env√≠o gratis y pago contra entrega. ¬°Reducir manchas nunca fue tan f√°cil!">
    <meta name="twitter:image" content="https://raw.githubusercontent.com/ziayoficial/catalogo-carotone/main/images/1-Kit%20Maximo%20Resplandor.jpg">
    <title>Carotone - Kits Exclusivos para Reducir Manchas con Env√≠o Gratis üî•</title>
    <link rel="canonical" href="https://tu-sitio.com">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" crossorigin="anonymous">
    <style>
        /* Estilos globales */
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Banner din√°mico */
        .dynamic-banner {
            background-color: #ff6f61;
            color: white;
            text-align: center;
            padding: 10px 0;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
        }

        .banner-content {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }

        .banner-content span {
            margin: 0 10px;
            font-size: 14px;
        }

        /* Exclusividad flotante */
        .floating-exclusivity {
            background-color: #ffcc00;
            color: white;
            padding: 10px;
            position: fixed;
            top: 60px;
            right: 20px;
            border-radius: 5px;
            z-index: 1000;
            display: flex;
            align-items: center;
        }

        .floating-exclusivity i {
            margin-right: 5px;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 80px 20px 40px;
            background: linear-gradient(135deg, #ff6f61, #ff8a80);
            color: white;
            border-radius: 10px;
            margin-bottom: 20px;
            position: relative;
        }

        .header-content h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header-content p {
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .timer-container {
            font-size: 1.5em;
            margin: 10px 0;
        }

        .timer {
            font-weight: bold;
            color: #ffcc00;
        }

        .urgency-message {
            font-size: 0.9em;
            color: #fff;
        }

        .social-proof {
            font-size: 1em;
            margin-top: 10px;
        }

        .social-proof i {
            margin-right: 5px;
        }

        /* Secci√≥n de productos */
        .products-section {
            margin-top: 20px;
        }

        .section-title {
            font-size: 2em;
            text-align: center;
            margin-bottom: 20px;
            color: #ff6f61;
        }

        .filters {
            text-align: center;
            margin-bottom: 20px;
        }

        .filters select {
            padding: 5px;
            font-size: 1em;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .product-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }

        .product-card:hover {
            transform: scale(1.05);
        }

        .product-card a {
            text-decoration: none;
            color: inherit;
        }

        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .product-info {
            padding: 10px;
            text-align: center;
        }

        .product-name {
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .product-description {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 10px;
        }

        .price-section {
            margin-bottom: 10px;
        }

        .price-current {
            font-size: 1.1em;
            font-weight: 500;
        }

        .price-original {
            font-size: 0.9em;
            color: #999;
            text-decoration: line-through;
            margin-left: 5px;
        }

        .discount-badge {
            background-color: #ff6f61;
            color: white;
            padding: 5px;
            border-radius: 5px;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .stock-badge {
            font-size: 0.9em;
            color: #666;
        }

        .buy-now {
            background-color: #25D366;
            color: white;
            border: none;
            padding: 10px;
            width: 100%;
            font-size: 1em;
            cursor: pointer;
            border-radius: 0 0 10px 10px;
            transition: background-color 0.3s;
        }

        .buy-now:hover {
            background-color: #1DA851;
        }

        .kit-highlight {
            border: 2px solid #ffcc00;
        }

        /* Formulario de pedido */
        .order-form {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
            display: none;
        }

        .form-title {
            font-size: 1.5em;
            text-align: center;
            margin-bottom: 20px;
            color: #ff6f61;
        }

        .selected-product {
            margin-bottom: 20px;
        }

        .selected-product-item {
            margin-bottom: 10px;
            padding: 10px;
            background: #f1f1f1;
            border-radius: 5px;
        }

        .cart-actions {
            text-align: center;
            margin: 10px 0;
        }

        .cart-actions button {
            background-color: #ff6f61;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
        }

        .cart-actions button:hover {
            background-color: #ff8a80;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-sizing: border-box;
        }

        .form-group.invalid input {
            border-color: #ff6f61;
        }

        .error {
            color: #ff6f61;
            font-size: 0.8em;
            display: block;
        }

        .whatsapp-button {
            background-color: #25D366;
            color: white;
            border: none;
            padding: 15px;
            width: 100%;
            font-size: 1.2em;
            cursor: pointer;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
        }

        .whatsapp-button i {
            margin-right: 10px;
        }

        .whatsapp-button:hover {
            background-color: #1DA851;
        }

        .whatsapp-button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .trust-badges {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            font-size: 0.9em;
            color: #666;
        }

        .trust-badges span {
            display: flex;
            align-items: center;
        }

        .trust-badges i {
            margin-right: 5px;
        }

        /* Barra de notificaci√≥n */
        .notification-bar {
            background-color: #ff6f61;
            color: white;
            text-align: center;
            padding: 10px;
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 5px;
            display: none;
            z-index: 1000;
        }

        .notification-bar.show {
            display: block;
        }

        /* Bot√≥n de compartir */
        .share-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #ff6f61;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
            z-index: 1000;
        }

        .share-button:hover {
            background-color: #ff8a80;
        }
    </style>
    <!-- Meta Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1827993964665633');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=1827993964665633&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
    <!-- Clarity Code -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "seg1f4pe2z");
    </script>
    <!-- End Clarity Code -->
</head>
<body>
    <header class="header">
        <div class="dynamic-banner">
            <div class="banner-content">
                <span>¬°Kits con Env√≠o Gratis!</span>
                <span>Pago Contra Entrega</span>
                <span>¬°Quedan Pocas Unidades!</span>
                <span>100% Originales</span>
            </div>
        </div>
        <div class="floating-exclusivity">
            <i class="fas fa-gift"></i> ¬°Kits con Descuento Exclusivo!
        </div>
        <div class="header-content">
            <h1>¬°Kits Carotone Originales que Reducen Manchas!</h1>
            <p>Transforma tu piel con kits completos ‚Äì ¬°ofertas expiran a medianoche!</p>
        </div>
        <div class="timer-container">
            <div class="timer"><span id="countdown">00:27:28</span></div>
            <div class="urgency-message">¬°Aprovecha los kits ahora!</div>
        </div>
        <div class="social-proof">
            <i class="fas fa-users"></i> +<span id="buyersCount">470</span> compraron kits hoy
        </div>
    </header>

    <main class="container">
        <section class="products-section" id="all-products">
            <h2 class="section-title">Descubre Nuestros Potentes Kits</h2>
            <div class="filters">
                <select id="filterCategory" onchange="filterProducts()">
                    <option value="all">Todas las Ofertas</option>
                    <option value="kits">Solo Kits</option>
                    <option value="individual">Individuales</option>
                </select>
            </div>
            <div class="products-grid" id="productsGrid">
                <!-- Kit Especiales -->
                <article class="product-card kit-highlight" data-category="kits" data-price="149900" data-original="189900" data-discount="21" data-stock="20" data-product-id="kit-maximo-resplandor" data-description="1 Crema Carotone Aclarante 135ml + 1 Lotion Carotone Manchas Negras Bsc 50ml + 1 Jab√≥n Carotone 190gr">
                    <a href="#kit-maximo-resplandor" class="product-link" onclick="trackViewContent(this)">
                        <img src="https://raw.githubusercontent.com/ziayoficial/catalogo-carotone/main/images/1-Kit%20Maximo%20Resplandor.jpg" alt="Kit M√°ximo Resplandor Carotone - Aclara tu piel" class="product-image">
                        <div class="product-info">
                            <h3 class="product-name">üåü Kit M√°ximo Resplandor</h3>
                            <p class="product-description">1 Crema Carotone Aclarante 135ml + 1 Lotion Carotone Manchas Negras Bsc 50ml + 1 Jab√≥n Carotone 190gr</p>
                            <div class="price-section">
                                <span class="price-current">$<span style="color: #ff6f61;">149,900</span></span>
                                <span class="price-original">$189,900</span>
                            </div>
                            <div class="discount-badge">21% OFF + Kit Gratis</div>
                            <div class="stock-badge">Quedan <span style="color: #ff6f61;">20</span></div>
                        </div>
                    </a>
                    <button class="buy-now" onclick="addToCart(this)">Agregar al Pedido</button>
                </article>
                <article class="product-card kit-highlight" data-category="kits" data-price="139900" data-original="179900" data-discount="22" data-stock="20" data-product-id="kit-despigmentante-intenso" data-description="1 Crema Carotone Aclarante 135ml + 1 Lotion Carotone Manchas Negras Bsc 50ml">
                    <a href="#kit-despigmentante-intenso" class="product-link" onclick="trackViewContent(this)">
                        <img src="https://raw.githubusercontent.com/ziayoficial/catalogo-carotone/main/images/3-Kit%20Despigmentante%20Intenso.jpg" alt="Kit Despigmentante Intenso Carotone - Reduce manchas" class="product-image">
                        <div class="product-info">
                            <h3 class="product-name">üî• Kit Despigmentante Intenso</h3>
                            <p class="product-description">1 Crema Carotone Aclarante 135ml + 1 Lotion Carotone Manchas Negras Bsc 50ml</p>
                            <div class="price-section">
                                <span class="price-current">$<span style="color: #ff6f61;">139,900</span></span>
                                <span class="price-original">$179,900</span>
                            </div>
                            <div class="discount-badge">22% OFF + Kit Gratis</div>
                            <div class="stock-badge">Quedan <span style="color: #ff6f61;">20</span></div>
                        </div>
                    </a>
                    <button class="buy-now" onclick="addToCart(this)">Agregar al Pedido</button>
                </article>
                <article class="product-card kit-highlight" data-category="kits" data-price="139900" data-original="179900" data-discount="22" data-stock="20" data-product-id="kit-cuidado-limpieza" data-description="1 Crema Carotone Aclarante 135ml + 1 Jab√≥n Carotone 190gr">
                    <a href="#kit-cuidado-limpieza" class="product-link" onclick="trackViewContent(this)">
                        <img src="https://raw.githubusercontent.com/ziayoficial/catalogo-carotone/main/images/5-Kit%20Cuidado%20y%20Limpieza.jpg" alt="Kit Cuidado y Limpieza Carotone - Piel saludable" class="product-image">
                        <div class="product-info">
                            <h3 class="product-name">üíñ Kit Cuidado y Limpieza</h3>
                            <p class="product-description">1 Crema Carotone Aclarante 135ml + 1 Jab√≥n Carotone 190gr</p>
                            <div class="price-section">
                                <span class="price-current">$<span style="color: #ff6f61;">139,900</span></span>
                                <span class="price-original">$179,900</span>
                            </div>
                            <div class="discount-badge">22% OFF + Kit Gratis</div>
                            <div class="stock-badge">Quedan <span style="color: #ff6f61;">20</span></div>
                        </div>
                    </a>
                    <button class="buy-now" onclick="addToCart(this)">Agregar al Pedido</button>
                </article>

                <!-- Productos Individuales -->
                <article class="product-card" data-category="individual" data-price="99900" data-original="129900" data-discount="23" data-stock="20" data-product-id="crema-300ml" data-description="Cuidado intensivo 300ml">
                    <a href="#crema-300ml" class="product-link" onclick="trackViewContent(this)">
                        <img src="https://raw.githubusercontent.com/ziayoficial/catalogo-carotone/main/images/6-Crema%20Carotone%20Aclarante%20300ml.jpg" alt="Crema Carotone Aclarante 300ml - Cuidado intensivo" class="product-image">
                        <div class="product-info">
                            <h3 class="product-name">üíß Crema Carotone Aclarante 300ml</h3>
                            <p class="product-description">Grande, M√°xima duraci√≥n, cuidado intensivo</p>
                            <div class="price-section">
                                <span class="price-current">$<span style="color: #ff6f61;">99,900</span></span>
                                <span class="price-original">$129,900</span>
                            </div>
                            <div class="discount-badge">23% OFF</div>
                            <div class="stock-badge">Quedan <span style="color: #ff6f61;">20</span></div>
                        </div>
                    </a>
                    <button class="buy-now" onclick="addToCart(this)">Agregar al Pedido</button>
                </article>
                <article class="product-card" data-category="individual" data-price="79900" data-original="99900" data-discount="20" data-stock="20" data-product-id="crema-135ml" data-description="Tama√±o ideal, resultados garantizados">
                    <a href="#crema-135ml" class="product-link" onclick="trackViewContent(this)">
                        <img src="https://raw.githubusercontent.com/ziayoficial/catalogo-carotone/main/images/7-1%20Crema%20Carotone%20Aclarante%20135ml.jpg" alt="Crema Carotone Aclarante 135ml - Resultados garantizados" class="product-image">
                        <div class="product-info">
                            <h3 class="product-name">üíß Crema Carotone Aclarante 135ml</h3>
                            <p class="product-description">Mediana, Tama√±o ideal, resultados garantizados</p>
                            <div class="price-section">
                                <span class="price-current">$<span style="color: #ff6f61;">79,900</span></span>
                                <span class="price-original">$99,900</span>
                            </div>
                            <div class="discount-badge">20% OFF</div>
                            <div class="stock-badge">Quedan <span style="color: #ff6f61;">20</span></div>
                        </div>
                    </a>
                    <button class="buy-now" onclick="addToCart(this)">Agregar al Pedido</button>
                </article>
                <article class="product-card" data-category="individual" data-price="99900" data-original="129900" data-discount="23" data-stock="20" data-product-id="locion-550ml" data-description="Loci√≥n corporal aclarante 550ml">
                    <a href="#locion-550ml" class="product-link" onclick="trackViewContent(this)">
                        <img src="https://raw.githubusercontent.com/ziayoficial/catalogo-carotone/main/images/11-Locion%20Corporal%20Carotone%20Aclarante%20550ml.jpg" alt="Loci√≥n Corporal Carotone Aclarante 550ml" class="product-image">
                        <div class="product-info">
                            <h3 class="product-name">üß¥ Loci√≥n Corporal Carotone Aclarante 550ml</h3>
                            <p class="product-description">Loci√≥n corporal aclarante</p>
                            <div class="price-section">
                                <span class="price-current">$<span style="color: #ff6f61;">99,900</span></span>
                                <span class="price-original">$129,900</span>
                            </div>
                            <div class="discount-badge">23% OFF</div>
                            <div class="stock-badge">Quedan <span style="color: #ff6f61;">20</span></div>
                        </div>
                    </a>
                    <button class="buy-now" onclick="addToCart(this)">Agregar al Pedido</button>
                </article>
                <article class="product-card" data-category="individual" data-price="69900" data-original="89900" data-discount="22" data-stock="20" data-product-id="lotion-50ml" data-description="Lotion para manchas negras 50ml">
                    <a href="#lotion-50ml" class="product-link" onclick="trackViewContent(this)">
                        <img src="https://raw.githubusercontent.com/ziayoficial/catalogo-carotone/main/images/10-Lotion%20Carotone%20Manchas%20Negras%20Bsc%2050ml.jpg" alt="Lotion Carotone Manchas Negras Bsc 50ml" class="product-image">
                        <div class="product-info">
                            <h3 class="product-name">üß¥ Lotion Carotone Manchas Negras Bsc 50ml</h3>
                            <p class="product-description">Lotion para manchas negras</p>
                            <div class="price-section">
                                <span class="price-current">$<span style="color: #ff6f61;">69,900</span></span>
                                <span class="price-original">$89,900</span>
                            </div>
                            <div class="discount-badge">22% OFF</div>
                            <div class="stock-badge">Quedan <span style="color: #ff6f61;">20</span></div>
                        </div>
                    </a>
                    <button class="buy-now" onclick="addToCart(this)">Agregar al Pedido</button>
                </article>
                <article class="product-card" data-category="individual" data-price="60000" data-original="79900" data-discount="25" data-stock="20" data-product-id="jabon-190gr" data-description="Jab√≥n aclarador 190gr">
                    <a href="#jabon-190gr" class="product-link" onclick="trackViewContent(this)">
                        <img src="https://raw.githubusercontent.com/ziayoficial/catalogo-carotone/main/images/9-Jabon%20Carotone%20190gr.jpg" alt="Jab√≥n Carotone 190gr - Aclarador natural" class="product-image">
                        <div class="product-info">
                            <h3 class="product-name">‚ú® Jab√≥n Carotone 190gr</h3>
                            <p class="product-description">Jab√≥n aclarador</p>
                            <div class="price-section">
                                <span class="price-current">$<span style="color: #ff6f61;">60,000</span></span>
                                <span class="price-original">$79,900</span>
                            </div>
                            <div class="discount-badge">25% OFF</div>
                            <div class="stock-badge">Quedan <span style="color: #ff6f61;">20</span></div>
                        </div>
                    </a>
                    <button class="buy-now" onclick="addToCart(this)">Agregar al Pedido</button>
                </article>
            </div>
        </section>

        <section class="order-form" id="orderFormSection" style="display: none;">
            <h2 class="form-title">üéâ ¬°Confirma tu Pedido de Kits!</h2>
            <div class="selected-product">
                <strong>Tu Pedido:</strong>
                <div id="selectedProductInfo"></div>
                <div class="cart-actions">
                    <button onclick="clearCart()">Eliminar Todo</button>
                </div>
                <div id="totalPrice" style="font-size: 20px; font-weight: 800; color: #ff6f61; margin-top: 10px;">Total: $0 COP</div>
            </div>
            <form id="orderForm">
                <div class="form-group">
                    <label for="nombres">üë§ Nombres <span style="color: #ff6f61;">*</span></label>
                    <input type="text" id="nombres" placeholder="Ej: Mar√≠a G√≥mez" required oninput="validateInput(this)">
                    <span class="error" id="nombresError"></span>
                </div>
                <div class="form-group">
                    <label for="apellidos">üë§ Apellidos <span style="color: #ff6f61;">*</span></label>
                    <input type="text" id="apellidos" placeholder="Ej: P√©rez L√≥pez" required oninput="validateInput(this)">
                    <span class="error" id="apellidosError"></span>
                </div>
                <div class="form-group">
                    <label for="phone">üì± Tel√©fono/WhatsApp <span style="color: #ff6f61;">*</span></label>
                    <input type="tel" id="phone" placeholder="Ej: +573207734748" required oninput="validateInput(this)">
                    <span class="error" id="phoneError"></span>
                </div>
                <div class="form-group">
                    <label for="address">üè† Direcci√≥n <span style="color: #ff6f61;">*</span></label>
                    <input type="text" id="address" placeholder="Ej: Carrera 20 # 23-03" required oninput="validateInput(this)">
                    <span class="error" id="addressError"></span>
                </div>
                <div class="form-group">
                    <label for="city">üåÜ Ciudad <span style="color: #ff6f61;">*</span></label>
                    <input type="text" id="city" placeholder="Ej: Bogot√°" required oninput="validateInput(this)">
                    <span class="error" id="cityError"></span>
                </div>
                <div class="form-group">
                    <label for="department">üèûÔ∏è Departamento <span style="color: #ff6f61;">*</span></label>
                    <input type="text" id="department" placeholder="Ej: Cundinamarca" required oninput="validateInput(this)">
                    <span class="error" id="departmentError"></span>
                </div>
                <div class="form-group">
                    <label for="notes">üìù Notas Adicionales</label>
                    <input type="text" id="notes" placeholder="Ej: Dejar en porter√≠a">
                    <span class="error" id="notesError"></span>
                </div>
                <button type="submit" class="whatsapp-button" disabled>
                    <i class="fab fa-whatsapp"></i> ¬°Comprar Kits Ahora!
                </button>
            </form>
            <div class="trust-badges">
                <span><i class="fas fa-gift"></i> Kits con Bonus</span>
                <span><i class="fas fa-truck"></i> Env√≠o Gratis</span>
                <span><i class="fas fa-star"></i> +500 Rese√±as</span>
            </div>
        </section>

        <div class="notification-bar" id="notificationBar"></div>
    </main>

    <button class="share-button" onclick="sharePage()">
        <i class="fas fa-share-alt"></i>
    </button>

    <script>
        console.log('Script loading...');
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity || 0), 0);
        const totalPriceElement = document.getElementById('totalPrice');
        const notificationBar = document.getElementById('notificationBar');
        const buyersCountElement = document.getElementById('buyersCount');

        console.log('Script.js loaded, cart:', cart);

        // Countdown with auto-reset
        function startCountdown() {
            let endTime = new Date();
            endTime.setHours(24, 0, 0, 0); // Siguiente medianoche
            if (endTime <= new Date()) endTime.setDate(endTime.getDate() + 1);
            const updateCountdown = () => {
                const now = new Date().getTime();
                const distance = endTime - now;
                if (distance <= 0) {
                    endTime.setDate(endTime.getDate() + 1);
                }
                const hours = Math.floor(distance / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                document.getElementById('countdown').textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            };
            updateCountdown();
            setInterval(updateCountdown, 1000);
        }

        // Filter products
        function filterProducts() {
            const category = document.getElementById('filterCategory').value;
            const cards = document.querySelectorAll('.product-card');
            cards.forEach(card => {
                const cardCategory = card.dataset.category;
                const show = category === 'all' || cardCategory === category;
                card.style.display = show ? 'block' : 'none';
                if (category === 'kits') card.classList.toggle('kit-highlight', cardCategory === 'kits');
            });
        }

        // Clear cart
        function clearCart() {
            if (cart.length === 0) {
                showNotification('No hay productos en el pedido.');
                return;
            }
            cart.forEach(item => {
                const card = document.querySelector(`.product-card[data-product-id="${item.id}"]`);
                if (card) {
                    card.dataset.stock = parseInt(card.dataset.stock) + item.quantity;
                    card.querySelector('.stock-badge').textContent = `Quedan ${card.dataset.stock}`;
                }
            });
            cart = [];
            totalPrice = 0;
            updateCart();
            saveCart();
            showNotification('¬°Pedido eliminado!');
        }

        // Remove individual item
        function removeItem(productId) {
            const itemIndex = cart.findIndex(item => item.id === productId);
            if (itemIndex !== -1) {
                const item = cart[itemIndex];
                const card = document.querySelector(`.product-card[data-product-id="${item.id}"]`);
                if (card) {
                    card.dataset.stock = parseInt(card.dataset.stock) + item.quantity;
                    card.querySelector('.stock-badge').textContent = `Quedan ${card.dataset.stock}`;
                }
                totalPrice -= item.price * item.quantity;
                cart.splice(itemIndex, 1);
                updateCart();
                saveCart();
                showNotification(`¬°${item.name} eliminado del pedido!`);
            }
        }

        // Update cart display
        function updateCart() {
            const selectedProductInfo = document.getElementById('selectedProductInfo');
            if (cart.length) {
                selectedProductInfo.innerHTML = cart.map(item => `
                    <div class="selected-product-item">
                        ${item.name} x${item.quantity} - $${(item.price * item.quantity).toLocaleString()} COP
                        <small>${item.description}</small>
                        <button onclick="editItemQuantity('${item.id}')">Editar</button>
                        <button onclick="removeItem('${item.id}')">Eliminar</button>
                    </div>
                `).join('');
            } else {
                selectedProductInfo.innerHTML = 'Tu pedido est√° vac√≠o. ¬°A√±ade kits!';
            }
            totalPriceElement.textContent = `Total: $${totalPrice.toLocaleString()} COP`;
            const orderFormSection = document.getElementById('orderFormSection');
            orderFormSection.style.display = cart.length ? 'block' : 'none';
            if (orderFormSection.style.display === 'block') {
                window.scrollTo({ top: orderFormSection.offsetTop - 20, behavior: 'smooth' });
                if (window.fbq) {
                    fbq('track', 'InitiateCheckout', { value: totalPrice / 100, currency: 'COP', content_ids: cart.map(item => item.id), num_items: cart.length });
                }
            }
            checkFormValidity();
        }

        // Edit individual item quantity
        function editItemQuantity(productId) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                const newQty = parseInt(prompt(`Ingresa la nueva cantidad para ${item.name} (m√°ximo ${parseInt(document.querySelector(`.product-card[data-product-id="${item.id}"]`).dataset.stock) + item.quantity}):`, item.quantity));
                if (newQty >= 0) {
                    const card = document.querySelector(`.product-card[data-product-id="${item.id}"]`);
                    if (card) {
                        const stock = parseInt(card.dataset.stock) + item.quantity;
                        if (newQty <= stock) {
                            totalPrice += (newQty - item.quantity) * item.price;
                            const diff = newQty - item.quantity;
                            item.quantity = newQty;
                            card.dataset.stock = stock - diff;
                            card.querySelector('.stock-badge').textContent = `Quedan ${card.dataset.stock}`;
                            updateCart();
                            saveCart();
                            showNotification(`¬°Cantidad de ${item.name} actualizada a ${newQty}!`);
                        } else {
                            showNotification(`No hay suficiente stock para ${newQty} unidades de ${item.name}.`);
                        }
                    }
                }
            }
        }

        // Save cart to localStorage
        function saveCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        // Validation
        function validateInput(input) {
            if (!(input instanceof HTMLElement) || !input.closest) {
                console.error('Input no es un elemento DOM v√°lido:', input);
                return;
            }
            const id = input.id;
            const errorSpan = document.getElementById(`${id}Error`);
            let isValid = true;
            switch (id) {
                case 'nombres':
                    isValid = input.value.trim().length > 2;
                    errorSpan.textContent = isValid ? '' : 'Nombres debe tener al menos 3 caracteres.';
                    break;
                case 'apellidos':
                    isValid = input.value.trim().length > 2;
                    errorSpan.textContent = isValid ? '' : 'Apellidos debe tener al menos 3 caracteres.';
                    break;
                case 'phone':
                    isValid = /^(\+?\d{10,13})$/.test(input.value.trim());
                    errorSpan.textContent = isValid ? '' : 'Tel√©fono inv√°lido (ej: +573207734748).';
                    break;
                case 'address':
                    isValid = input.value.trim().length > 5;
                    errorSpan.textContent = isValid ? '' : 'Direcci√≥n debe tener al menos 6 caracteres.';
                    break;
                case 'city':
                    isValid = input.value.trim().length > 2;
                    errorSpan.textContent = isValid ? '' : 'Ciudad debe tener al menos 3 caracteres.';
                    break;
                case 'department':
                    isValid = input.value.trim().length > 2;
                    errorSpan.textContent = isValid ? '' : 'Departamento debe tener al menos 3 caracteres.';
                    break;
                case 'notes':
                    isValid = true;
                    errorSpan.textContent = '';
                    break;
            }
            const formGroup = input.closest('.form-group');
            if (formGroup) {
                formGroup.classList.toggle('invalid', !isValid);
            }
            checkFormValidity();
        }

        function checkFormValidity() {
            const isValid = document.querySelectorAll('.form-group.invalid').length === 0 &&
                            document.getElementById('nombres').value &&
                            document.getElementById('apellidos').value &&
                            document.getElementById('phone').value &&
                            document.getElementById('address').value &&
                            document.getElementById('city').value &&
                            document.getElementById('department').value &&
                            cart.length > 0;
            document.querySelector('.whatsapp-button').disabled = !isValid;
        }

        // Form submission
        document.getElementById('orderForm').addEventListener('submit', (e) => {
            e.preventDefault();
            if (cart.length) {
                const cartItems = cart.map(item => `*${item.quantity} x ${item.name}:* (${item.description})`).join('\n');
                const whatsappMessage = `Estos son los datos de mi pedido:\n\n*Productos:*\n${cartItems}\n*Total:* $${totalPrice.toLocaleString()} COP\n\n*Detalles:*\n*- Nombres:* ${document.getElementById('nombres').value}\n*- Apellidos:* ${document.getElementById('apellidos').value}\n*- Tel√©fono:* ${document.getElementById('phone').value}\n*- Direcci√≥n:* ${document.getElementById('address').value}\n*- Ciudad:* ${document.getElementById('city').value}\n*- Departamento:* ${document.getElementById('department').value}\n*- Notas Adicionales:* ${document.getElementById('notes').value || 'Ninguna'}`;
                const whatsappUrl = `https://wa.me/573207734748?text=${encodeURIComponent(whatsappMessage)}`;
                window.open(whatsappUrl, '_blank');
                if (window.fbq) {
                    fbq('track', 'Purchase', { value: totalPrice / 100, currency: 'COP' });
                }
                if (window.fbq) {
                    fbq('track', 'AddPaymentInfo', { value: totalPrice / 100, currency: 'COP', content_ids: cart.map(item => item.id), num_items: cart.length });
                }
                showNotification('¬°Pedido enviado! Te contactaremos pronto.');
                clearCart();
                document.getElementById('orderForm').reset();
            }
        });

        // Notification system
        function showNotification(message) {
            if (notificationBar) {
                notificationBar.textContent = message;
                notificationBar.classList.add('show');
                setTimeout(() => notificationBar.classList.remove('show'), 3000);
            }
        }

        // Share functionality
        function sharePage() {
            const shareData = { title: 'Kits Carotone', text: '¬°Aprovecha los kits Carotone con env√≠o gratis! ' + window.location.href, url: window.location.href };
            if (navigator.share && window.location.protocol === 'https:') {
                navigator.share(shareData).catch(() => fallbackShare());
            } else {
                fallbackShare();
            }
            function fallbackShare() {
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(window.location.href).then(() => showNotification('¬°Enlace copiado! Comparte y gana descuento.'), () => showNotification('Copia el enlace: ' + window.location.href));
                } else {
                    showNotification('Copia el enlace: ' + window.location.href);
                }
            }
        }

        // Simulate purchases
        let count = 470;
        setInterval(() => {
            if (buyersCountElement) {
                count += Math.floor(Math.random() * 5) + 1;
                buyersCountElement.textContent = count.toLocaleString();
                showNotification(`¬°${count} compraron kits hoy! ¬°√önete ahora!`);
            }
        }, 15000);

        // Add to cart
        window.addToCart = function(button) {
            console.log('addToCart called with button:', button);
            const card = button.closest('.product-card');
            if (!card) {
                console.error('No se encontr√≥ el elemento .product-card');
                return;
            }
            const productId = card.dataset.productId;
            const productName = card.querySelector('.product-name').textContent;
            const price = parseInt(card.dataset.price);
            const description = card.dataset.description;
            const stock = parseInt(card.dataset.stock);
            const existingItem = cart.find(item => item.id === productId);

            console.log('Product data:', { productId, productName, price, stock });

            if (stock > 0) {
                if (existingItem) {
                    if (existingItem.quantity < stock) existingItem.quantity++;
                } else {
                    cart.push({ id: productId, name: productName, price, description, quantity: 1 });
                }
                totalPrice += price;
                updateCart();
                saveCart();
                showNotification(`¬°${productName} a√±adido al pedido!`);
                if (window.fbq) {
                    fbq('track', 'Lead', { value: price / 100, currency: 'COP' });
                }
                if (window.fbq) {
                    fbq('track', 'AddToCart', { value: price / 100, currency: 'COP', content_ids: [productId], content_type: 'product' });
                }
                card.dataset.stock = stock - 1;
                card.querySelector('.stock-badge').textContent = `Quedan ${stock - 1}`;
            } else {
                showNotification('Lo siento, este producto se agot√≥.');
                button.disabled = true;
            }
        };

        // Funci√≥n para rastrear ViewContent
        window.trackViewContent = function(link) {
            const card = link.closest('.product-card');
            if (card) {
                const productId = card.dataset.productId;
                const price = parseInt(card.dataset.price);
                if (window.fbq) {
                    fbq('track', 'ViewContent', { value: price / 100, currency: 'COP', content_ids: [productId], content_type: 'product' });
                }
            }
        };

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', () => {
            startCountdown();
            updateCart();
            document.querySelectorAll('input').forEach(input => input.addEventListener('input', validateInput));
        });
    </script>
</body>
</html>
